import{_ as w,r as m,o as C,j as _,i as s,e as v,h as e,w as a,f as c,F as Y,y as M,u as N,g as r,p as V,l as d,v as j,t as l,B as A,C as F,D as I,G as T,H as q,I as z,A as E}from"./index-CNVEcACA.js";import{u as G}from"./index.es-AM15teyr.js";import{_ as H}from"./request-CwFpdHqZ.js";const L={class:"registration-records"},S={class:"top-left"},J={key:0,class:"loading-container"},K={key:2,class:"records-container"},O={class:"record-header"},P={class:"record-id"},Q={class:"record-content"},U={class:"record-item"},W={class:"value"},X={class:"record-item"},Z={class:"value"},$={class:"record-item"},ss={class:"value"},ts={class:"record-item"},es={class:"value"},as={class:"record-item"},os={class:"value"},ls={class:"record-item"},ns={class:"value"},ds={__name:"RegistrationRecords",setup(rs){const g=N(),u=m([]),p=m(!0),h=i=>E(i).format("YYYY年MM月DD日"),{runAsync:y}=G(()=>H.get("/api/patient/registration"),{manual:!0}),b=()=>{y().then(i=>{u.value=i.data.data,p.value=!1}).catch(i=>{p.value=!1})},k=()=>{g.push("/registration")};return C(()=>{b()}),(i,t)=>{const R=c("el-icon-arrow-left"),o=c("el-icon"),x=c("el-button"),B=c("el-empty"),D=c("el-card");return r(),_("div",L,[s("div",S,[e(x,{type:"text",onClick:k},{default:a(()=>[e(o,null,{default:a(()=>[e(R)]),_:1}),t[0]||(t[0]=V(" 返回 "))]),_:1,__:[0]})]),t[8]||(t[8]=s("div",{class:"header"},[s("h1",null,"我的挂号记录"),s("p",null,"以下是您的所有挂号记录信息")],-1)),p.value?(r(),_("div",J,[e(o,{class:"loading-icon",size:40},{default:a(()=>[e(d(j))]),_:1}),t[1]||(t[1]=s("p",null,"正在加载挂号记录...",-1))])):u.value.length===0?(r(),v(B,{key:1,description:"暂无挂号记录"})):(r(),_("div",K,[(r(!0),_(Y,null,M(u.value,(n,f)=>(r(),v(D,{key:f,class:"record-card"},{default:a(()=>[s("div",O,[s("div",P,"挂号记录 #"+l(f+1),1)]),s("div",Q,[s("div",U,[e(o,null,{default:a(()=>[e(d(A))]),_:1}),t[2]||(t[2]=s("span",{class:"label"},"医院：",-1)),s("span",W,l(n.hospital),1)]),s("div",X,[e(o,null,{default:a(()=>[e(d(F))]),_:1}),t[3]||(t[3]=s("span",{class:"label"},"科室：",-1)),s("span",Z,l(n.department),1)]),s("div",$,[e(o,null,{default:a(()=>[e(d(I))]),_:1}),t[4]||(t[4]=s("span",{class:"label"},"医生：",-1)),s("span",ss,l(n.doctor),1)]),s("div",ts,[e(o,null,{default:a(()=>[e(d(T))]),_:1}),t[5]||(t[5]=s("span",{class:"label"},"就诊时间：",-1)),s("span",es,l(h(n.date))+" "+l(n.time_slot),1)]),s("div",as,[e(o,null,{default:a(()=>[e(d(q))]),_:1}),t[6]||(t[6]=s("span",{class:"label"},"患者：",-1)),s("span",os,l(n.patient),1)]),s("div",ls,[e(o,null,{default:a(()=>[e(d(z))]),_:1}),t[7]||(t[7]=s("span",{class:"label"},"联系电话：",-1)),s("span",ns,l(n.phone),1)])])]),_:2},1024))),128))]))])}}},us=w(ds,[["__scopeId","data-v-8c63b3a7"]]);export{us as default};
